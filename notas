Conexão com o ServiceNow ITSM - Define as credenciais (host, username, password) para acessar a API da tabela change_request.
Usa a coleção servicenow.itsm para trabalhar com módulos nativos do Ansible para ServiceNow.

Consulta de changes abertas - Executa o módulo change_request_info filtrando por active=true e phase_state=open para retornar apenas mudanças em andamento (não fechadas).
Solicita que os campos retornem com sysparm_display_value: "true" para mostrar valores legíveis (ex.: "Pending" em vez de -5).

Armazenamento do resultado - Guarda a lista de registros retornados (abertas.records) em uma variável de trabalho (abertas).
Cria também uma lista apenas com os números das changes usando map(attribute='number').

Iteração sobre os resultados - Faz um loop sobre cada registro retornado.

Para cada change, exibe dados importantes:
Número da change (number)
Descrição curta (short_description)
Descrição completa (description)
Data de abertura (opened_at)
Última atualização (sys_updated_on)

---

Integração com googlechat

1. Acesse o espaço (room) no Google Chat
Abra o Google Chat.

Entre no espaço (Space) onde quer que o Ansible envie mensagens.

2. Criar e configurar o webhook
No topo do espaço, clique no nome do Space para abrir o menu de opções.

Clique em Gerenciar webhooks (Manage webhooks).

Clique em Adicionar webhook (Add webhook).

Dê um nome (ex.: Ansible Notifications).
(Opcional) Adicione um avatar/ícone para identificar as mensagens.
https://github.com/ansible/logos/raw/main/vscode-ansible-logo/vscode-ansible.png

Clique em Salvar (Save).

